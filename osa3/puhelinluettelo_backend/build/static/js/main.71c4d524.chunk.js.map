{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Filter","_ref","newFilter","handleFilterChange","react_default","a","createElement","value","onChange","PersonForm","newName","handleNameChange","newNumber","handleNumberChange","addPerson","onClick","type","Persons","persons","deletePerson","filter","person","name","toLowerCase","includes","map","key","id","number","baseUrl","services_persons","axios","get","then","response","data","newObject","post","delete","concat","put","Notification","message","className","Error","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","notificationMessage","setNotificationMessage","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","personService","initialPersons","components_Notification","components_Error","components_Filter","event","target","components_PersonForm","preventDefault","personObject","indexOf","returnedPerson","setTimeout","catch","error","window","confirm","find","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.71c4d524.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ newFilter, handleFilterChange }) => (\r\n    <form>\r\n        <div>\r\n            filter shown with <input value={newFilter} onChange={handleFilterChange} />\r\n        </div>\r\n    </form>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ newName, handleNameChange, newNumber, handleNumberChange, addPerson }) => (\r\n    <form>\r\n        <div>\r\n            name: <input value={newName} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n            number: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n            <button onClick={addPerson} type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ persons, newFilter, deletePerson }) => (\r\n    persons\r\n        .filter(person =>\r\n            person.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n        .map(person =>\r\n            <div key={person.id}>\r\n                {person.name}\r\n                {person.number}\r\n                <button id={person.id} name={person.name} onClick={deletePerson}>\r\n                    delete\r\n                    </button>\r\n            </div>\r\n        )\r\n)\r\n\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = `/api/persons`\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"notification\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Error = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"error\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const hook = () => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }\n\n  useEffect(hook, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.map(person => person.name.toLowerCase()).indexOf(newName.toLowerCase()) === -1) {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setNotificationMessage(`Added ${newName}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    } else if (window.confirm(`${personObject.name} is already added to phonebook, replace the old number with a new one?`)) {\n      const id = persons.find(person => person.name === newName).id\n      personService\n        .update(id, personObject)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setNotificationMessage(`Changed ${newName}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(`Information of ${newName} has already been removed from server`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const deletePerson = (event) => {\n    const name = event.target.name\n    const id = event.target.id\n    if (window.confirm(`Delete ${name} ?`)) {\n      personService.remove(id)\n      setPersons(persons.filter(person => person.name !== name))\n      setNotificationMessage(`Deleted ${name}`)\n      setTimeout(() => {\n        setNotificationMessage(null)\n      }, 5000)\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} />\n      <Error message={errorMessage} />\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <h3>add a new</h3>\n      <PersonForm\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        addPerson={addPerson} />\n      <h3>Numbers</h3>\n      <Persons persons={persons}\n        newFilter={newFilter}\n        deletePerson={deletePerson}\n      />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}